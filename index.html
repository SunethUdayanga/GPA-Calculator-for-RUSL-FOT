<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>University GPA Calculator</title>
    <link rel="stylesheet" href="styles/main.css" />
    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/css/bootstrap.min.css"
      rel="stylesheet"
    />
    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css"
    />
  </head>
  <body>
    <div class="app-container">
      <nav class="sidebar">
        <div class="sidebar-header">
          <h3>GPA Calculator</h3>
          <small class="text-white-emphasis">by</small>
          <span class="text-white-emphasis f-bold">Suneth Udayanga</span>
        </div>
        <ul class="sidebar-menu">
          <li class="active" data-section="dashboard">
            <i class="fas fa-chart-line"></i> Dashboard
          </li>
          <li data-section="courses"><i class="fas fa-book"></i> Courses</li>
          <li data-section="optional-subjects">
            <i class="fas fa-puzzle-piece"></i> Optional Subjects
          </li>
          <li data-section="add-course">
            <i class="fas fa-plus-circle"></i> Add Course
          </li>
          <li data-section="settings"><i class="fas fa-cog"></i> Settings</li>
        </ul>
        <div class="sidebar-footer">
          <div class="dropdown">
            <button class="btn btn-outline-light dropdown-toggle" type="button" id="exportDropdown" data-bs-toggle="dropdown" aria-expanded="false">
              <i class="fas fa-file-export"></i> Export Data
            </button>
            <ul class="dropdown-menu" aria-labelledby="exportDropdown">
              <li><a class="dropdown-item" id="exportJsonBtn" href="#"><i class="fas fa-file-code"></i> Export as JSON</a></li>
              <li><a class="dropdown-item" id="exportCsvBtn" href="#"><i class="fas fa-file-csv"></i> Export as CSV</a></li>
            </ul>
            <small class="d-flex mt-3">V 2.5.831</small>
          </div>
        </div>
      </nav>

      <main class="content">
        <!-- Dashboard Section -->
        <section id="dashboard" class="active-section">
          <div class="section-header">
            <h2><i class="fas fa-chart-line"></i> Dashboard</h2>
          </div>

          <div class="dashboard-cards">
            <div class="card gpa-card">
              <div class="card-body">
                <h5 class="card-title">GPA Summary</h5>
                <div class="gpa-summary">
                  <div class="gpa-item">
                    <span class="gpa-label">Compulsory Only GPA</span>
                    <span id="compulsoryOnlyGPA" class="gpa-value">0.00</span>
                  </div>
                  <div class="gpa-item overall">
                    <span class="gpa-label">Overall GPA (with Optional)</span>
                    <div class="d-flex align-items-center">
                      <span id="overallGPA" class="gpa-value">0.00</span>
                      <span id="gpaChange" class="ms-2"></span>
                    </div>
                  </div>
                </div>
                <div id="classHonors" class="class-honors mt-2"></div>
              </div>
            </div>

            <div class="card">
              <div class="card-body">
                <h5 class="card-title">Degree Progress</h5>
                <div class="progress mb-1" style="height: 25px;">
                  <div id="degreeProgressBar" class="progress-bar progress-bar-striped progress-bar-animated" 
                       role="progressbar" style="width: 0%;" aria-valuenow="0" aria-valuemin="0" aria-valuemax="100">0%</div>
                </div>
                <p class="mb-0">Credits remaining: <span id="creditsRemaining">120</span> of <span id="totalRequiredCredits">120</span> required</p>
                
                <!-- Department-specific information will be inserted here -->
                <div id="departmentInfo"></div>
              </div>
            </div>

            <div class="card credits-card">
              <div class="card-body">
                <h5 class="card-title">Credits Summary</h5>
                <div class="credits-summary">
                  <div class="credit-item">
                    <span class="credit-label">Compulsory</span>
                    <span id="compulsoryCredits" class="credit-value">0</span>
                  </div>
                  <div class="credit-item">
                    <span class="credit-label">Optional</span>
                    <span id="optionalCredits" class="credit-value">0</span>
                  </div>
                  <div class="credit-item">
                    <span class="credit-label">Non-GPA</span>
                    <span id="nonGPACredits" class="credit-value">0</span>
                  </div>
                  <div class="credit-item total">
                    <span class="credit-label">Total</span>
                    <span id="totalCredits" class="credit-value">0</span>
                  </div>
                </div>
              </div>
            </div>
          </div>

          <div class="card honors-criteria-card mt-4">
            <div class="card-body p-3">
              <h5 class="card-title d-flex align-items-center">
                <i class="fas fa-award me-2 text-primary"></i>
                Class Honors Criteria
              </h5>

              <div class="honors-criteria">
                <div class="row g-3">
                  <div class="col-md-4">
                    <div
                      class="honors-category p-2 border-start border-4 border-warning rounded shadow-sm"
                    >
                      <h6 class="fw-bold text-warning">
                        <i class="fas fa-medal me-1"></i> First Class
                      </h6>
                      <ul class="list-unstyled small mb-0">
                        <li>
                          <i class="fas fa-check-circle me-1 text-success"></i>
                          GPA â‰¥ 3.70
                        </li>
                        <li>
                          <i class="fas fa-check-circle me-1 text-success"></i>
                          Complete within 4 years
                        </li>
                        <li>
                          <i class="fas fa-check-circle me-1 text-success"></i>
                          Grade C+ or better (min. 120 credits)
                        </li>
                      </ul>
                    </div>
                  </div>

                  <div class="col-md-4">
                    <div
                      class="honors-category p-2 border-start border-4 border-secondary rounded shadow-sm"
                    >
                      <h6 class="fw-bold text-secondary">
                        <i class="fas fa-medal me-1"></i> Second Class (Upper)
                      </h6>
                      <ul class="list-unstyled small mb-0">
                        <li>
                          <i class="fas fa-check-circle me-1 text-success"></i>
                          GPA 3.30 - 3.69
                        </li>
                        <li>
                          <i class="fas fa-check-circle me-1 text-success"></i>
                          Complete within 4 years
                        </li>
                      </ul>
                    </div>
                  </div>

                  <div class="col-md-4">
                    <div
                      class="honors-category p-2 border-start border-4 border-info rounded shadow-sm"
                    >
                      <h6 class="fw-bold text-info">
                        <i class="fas fa-medal me-1"></i> Second Class (Lower)
                      </h6>
                      <ul class="list-unstyled small mb-0">
                        <li>
                          <i class="fas fa-check-circle me-1 text-success"></i>
                          GPA 3.00 - 3.29
                        </li>
                        <li>
                          <i class="fas fa-check-circle me-1 text-success"></i>
                          Complete within 4 years
                        </li>
                      </ul>
                    </div>
                  </div>
                </div>
              </div>
            </div>
          </div>

          <div class="semester-summary-container mt-4">
            <h3>Semester Summary</h3>
            <div class="table-responsive">
              <table class="table table-hover">
                <thead>
                  <tr>
                    <th>Year</th>
                    <th>Semester</th>
                    <th>GPA</th>
                    <th>Credits</th>
                  </tr>
                </thead>
                <tbody id="semesterSummaryList">
                  <!-- Semester summaries will be added here -->
                </tbody>
              </table>
            </div>
          </div>
        </section>

        <!-- Courses Section -->
        <section id="courses">
          <div class="section-header">
            <h2><i class="fas fa-book"></i> Courses</h2>
          </div>

          <div class="year-tabs">
            <ul class="nav nav-pills" id="yearTabs" role="tablist">
              <!-- Year tabs will be generated dynamically -->
            </ul>
          </div>

          <div class="tab-content" id="yearTabContent">
            <!-- Year content will be generated dynamically -->
          </div>
        </section>

        <!-- Optional Subjects Section -->
        <section id="optional-subjects">
          <div class="section-header">
            <h2><i class="fas fa-plus-circle"></i> Optional Subjects</h2>
          </div>

          <div class="card mb-4">
            <div class="card-body">
              <h5 class="card-title">
                Improve Your GPA with Optional Subjects
              </h5>
              <p>
                Your degree program requires a minimum of 120 credits to
                graduate. Compulsory courses provide 114 credits, so you need at
                least 6 more credits from optional subjects.
              </p>
              <p>
                <strong
                  >Strategic selection of optional subjects can significantly
                  improve your GPA!</strong
                >
                Use the simulator below to see how different optional subjects
                and grades would affect your overall GPA.
              </p>
            </div>
          </div>

          <div id="optionalSubjectsContainer" class="">
            <!-- Optional subjects will be rendered here -->
          </div>
        </section>

        <!-- Add Course Section -->
        <section id="add-course">
          <div class="section-header">
            <h2><i class="fas fa-plus-circle"></i> Add Course</h2>
          </div>

          <div class="card">
            <div class="card-body">
              <form id="courseForm">
                <div class="row">
                  <div class="col-md-6">
                    <div class="mb-3">
                      <label for="year" class="form-label">Year</label>
                      <input
                        type="number"
                        class="form-control"
                        id="year"
                        min="1"
                        required
                      />
                    </div>
                  </div>
                  <div class="col-md-6">
                    <div class="mb-3">
                      <label for="semester" class="form-label">Semester</label>
                      <input
                        type="number"
                        class="form-control"
                        id="semester"
                        min="1"
                        max="2"
                        required
                      />
                    </div>
                  </div>
                </div>

                <div class="row">
                  <div class="col-md-6">
                    <div class="mb-3">
                      <label for="courseCode" class="form-label"
                        >Course Code</label
                      >
                      <input
                        type="text"
                        class="form-control"
                        id="courseCode"
                        required
                      />
                    </div>
                  </div>
                  <div class="col-md-6">
                    <div class="mb-3">
                      <label for="subject" class="form-label">Subject</label>
                      <input
                        type="text"
                        class="form-control"
                        id="subject"
                        required
                      />
                    </div>
                  </div>
                </div>

                <div class="row">
                  <div class="col-md-4">
                    <div class="mb-3">
                      <label for="credits" class="form-label">Credits</label>
                      <input
                        type="number"
                        class="form-control"
                        id="credits"
                        min="0"
                        step="1"
                        required
                      />
                    </div>
                  </div>
                  <div class="col-md-4">
                    <div class="mb-3">
                      <label for="status" class="form-label">Status</label>
                      <select class="form-control" id="status" required>
                        <option value="C">Compulsory (C)</option>
                        <option value="O">Optional (O)</option>
                        <option value="C-NGP">
                          Non-GPA Compulsory (C-NGP)
                        </option>
                      </select>
                    </div>
                  </div>
                  <div class="col-md-4">
                    <div class="mb-3">
                      <label for="grade" class="form-label">Grade</label>
                      <select class="form-control" id="grade" required>
                        <option value="A+">A+</option>
                        <option value="A">A</option>
                        <option value="A-">A-</option>
                        <option value="B+">B+</option>
                        <option value="B">B</option>
                        <option value="B-">B-</option>
                        <option value="C+">C+</option>
                        <option value="C">C</option>
                        <option value="C-">C-</option>
                        <option value="D+">D+</option>
                        <option value="D">D</option>
                        <option value="E">E</option>
                      </select>
                    </div>
                  </div>
                </div>

                <div class="d-grid gap-2">
                  <button type="submit" class="btn btn-primary">
                    Add Course
                  </button>
                </div>
              </form>
            </div>
          </div>
        </section>

        <!-- Settings Section -->
        <section id="settings">
          <div class="section-header">
            <h2><i class="fas fa-cog"></i> Settings</h2>
          </div>

          <div class="card">
            <div class="card-body">
              <h5 class="card-title">Data Management</h5>
              <div class="d-grid gap-2">
                <button id="loadSampleData" class="btn btn-secondary">
                  <i class="fas fa-database"></i> Load Sample Data
                </button>
                <button id="clearData" class="btn btn-danger">
                  <i class="fas fa-trash-alt"></i> Clear All Data
                </button>
              </div>
            </div>
          </div>

          <div class="card mb-3">
            <div class="card-body">
              <h5 class="card-title">Department Selection</h5>
              <p class="card-text">Select your department to load relevant sample data:</p>
              <div class="form-group mb-3">
                <label for="departmentSelector">Select Department:</label>
                <select id="departmentSelector" class="form-select">
                  <option value="ict">Information & Communication Technology</option>
                  <option value="material">Materials Technology</option>
                  <option value="electrical">Electrical & Electronic Technology</option>
                  <option value="food">Food Technology</option>
                  <option value="bio">Bioprocess Technology</option>
                </select>
              </div>
              <button id="loadDepartmentData" class="btn btn-secondary">
                <i class="fas fa-database"></i> Load Department Data
              </button>
            </div>
          </div>
        </section>
      </main>
    </div>

    <!-- Grade Selection Modal -->
    <div
      class="modal fade"
      id="gradeModal"
      tabindex="-1"
      aria-labelledby="gradeModalLabel"
      aria-hidden="true"
    >
      <div class="modal-dialog modal-dialog-centered">
        <div class="modal-content">
          <div class="modal-header">
            <h5 class="modal-title" id="gradeModalLabel">Select Grade</h5>
            <button
              type="button"
              class="btn-close"
              data-bs-dismiss="modal"
              aria-label="Close"
            ></button>
          </div>
          <div class="modal-body">
            <div class="course-info mb-3">
              <h6 id="modalCourseCode"></h6>
              <p id="modalCourseTitle"></p>
            </div>
            <div class="grade-buttons">
              <button class="grade-btn" data-grade="A+">A+</button>
              <button class="grade-btn" data-grade="A">A</button>
              <button class="grade-btn" data-grade="A-">A-</button>
              <button class="grade-btn" data-grade="B+">B+</button>
              <button class="grade-btn" data-grade="B">B</button>
              <button class="grade-btn" data-grade="B-">B-</button>
              <button class="grade-btn" data-grade="C+">C+</button>
              <button class="grade-btn" data-grade="C">C</button>
              <button class="grade-btn" data-grade="C-">C-</button>
              <button class="grade-btn" data-grade="D+">D+</button>
              <button class="grade-btn" data-grade="D">D</button>
              <button class="grade-btn" data-grade="E">E</button>
            </div>
          </div>
        </div>
      </div>
    </div>

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/js/bootstrap.bundle.min.js"></script>
    <script src="scripts/renderer.js"></script>
  </body>
</html>
